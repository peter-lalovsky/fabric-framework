{"$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"wh_gold":{"type":"string"}},"variables":{},"resources":[{"name":"populate_dm_sales","type":"pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"item","type":"Copy","dependsOn":[],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"DataWarehouseSource","sqlReaderQuery":"select distinct top 10000\r\n    cast(ROW_NUMBER() over(order by (select null)) as int) as item_id\r\n    , cast(concat('item ', ROW_NUMBER() over(order by (select null))) as varchar(128)) as [description]\r\n    , cast((a1.[object_id] / -3.) / 10000000. as decimal(18, 6)) as price\r\nfrom\r\n    sys.all_objects as a1\r\n    cross apply sys.all_objects as a2","queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"wh_gold","properties":{"annotations":[],"type":"DataWarehouse","typeProperties":{"endpoint":"abc.datawarehouse.fabric.microsoft.com","artifactId":"[parameters('wh_gold')]","workspaceId":"abc"}}},"type":"DataWarehouseTable","schema":[],"typeProperties":{}}},"sink":{"type":"DataWarehouseSink","preCopyScript":"truncate table dbo.item;","allowCopyCommand":true,"copyCommandSettings":{},"disableMetricsCollection":false,"datasetSettings":{"annotations":[],"linkedService":{"name":"wh_gold","properties":{"annotations":[],"type":"DataWarehouse","typeProperties":{"endpoint":"abc.datawarehouse.fabric.microsoft.com","artifactId":"[parameters('wh_gold')]","workspaceId":"abc"}}},"type":"DataWarehouseTable","schema":[],"typeProperties":{"schema":"dbo","table":"item"}}},"enableStaging":true,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"person","type":"Copy","dependsOn":[{"activity":"item","dependencyConditions":["Succeeded"]}],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"DataWarehouseSource","sqlReaderQuery":"select distinct top 10000\r\n    cast(ROW_NUMBER() over(order by (select null)) as int) as person_id\r\n    , cast(concat('first_name ', ROW_NUMBER() over(order by (select null))) as varchar(128)) as first_name\r\n    , cast(concat('last_name ', ROW_NUMBER() over(order by (select null))) as varchar(128)) as last_name\r\n    , cast('1900-01-01' as date)as date_of_birth\r\n    , cast((a1.[object_id] / -3.) / 10000000. as decimal(18, 6)) as salary\r\nfrom\r\n    sys.all_objects as a1\r\n    cross apply sys.all_objects as a2","queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"wh_gold","properties":{"annotations":[],"type":"DataWarehouse","typeProperties":{"endpoint":"abc.datawarehouse.fabric.microsoft.com","artifactId":"[parameters('wh_gold')]","workspaceId":"abc"}}},"type":"DataWarehouseTable","schema":[],"typeProperties":{}}},"sink":{"type":"DataWarehouseSink","preCopyScript":"truncate table dbo.person;","allowCopyCommand":true,"copyCommandSettings":{},"disableMetricsCollection":false,"datasetSettings":{"annotations":[],"linkedService":{"name":"wh_gold","properties":{"annotations":[],"type":"DataWarehouse","typeProperties":{"endpoint":"abc.datawarehouse.fabric.microsoft.com","artifactId":"[parameters('wh_gold')]","workspaceId":"abc"}}},"type":"DataWarehouseTable","schema":[],"typeProperties":{"schema":"dbo","table":"person"}}},"enableStaging":true,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}},{"name":"sales","type":"Copy","dependsOn":[{"activity":"person","dependencyConditions":["Succeeded"]}],"policy":{"timeout":"0.12:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"typeProperties":{"source":{"type":"DataWarehouseSource","sqlReaderQuery":"select top 100000\n    cast(ROW_NUMBER() over(order by (select null)) as int) as sale_id\n    , cast(p.person_id as int) as person_id\n    , cast(i.item_id as int) as item_id\n    , cast('1900-01-01' as date) as sale_date\n    , cast(123.456 as decimal(18, 6)) as unit_price\n    , cast(123 as int) as qty\nfrom\n    dbo.person as p\n    cross apply dbo.item as i","queryTimeout":"02:00:00","partitionOption":"None","datasetSettings":{"annotations":[],"linkedService":{"name":"wh_gold","properties":{"annotations":[],"type":"DataWarehouse","typeProperties":{"endpoint":"abc.datawarehouse.fabric.microsoft.com","artifactId":"[parameters('wh_gold')]","workspaceId":"abc"}}},"type":"DataWarehouseTable","schema":[],"typeProperties":{}}},"sink":{"type":"DataWarehouseSink","preCopyScript":"truncate table dbo.sale;","allowCopyCommand":true,"copyCommandSettings":{},"disableMetricsCollection":false,"datasetSettings":{"annotations":[],"linkedService":{"name":"wh_gold","properties":{"annotations":[],"type":"DataWarehouse","typeProperties":{"endpoint":"abc.datawarehouse.fabric.microsoft.com","artifactId":"[parameters('wh_gold')]","workspaceId":"abc"}}},"type":"DataWarehouseTable","schema":[],"typeProperties":{"schema":"dbo","table":"sale"}}},"enableStaging":true,"translator":{"type":"TabularTranslator","typeConversion":true,"typeConversionSettings":{"allowDataTruncation":true,"treatBooleanAsNumber":false}}}}],"lastModifiedByObjectId":"abc","lastPublishTime":"2024-11-25T19:34:47Z","extraTridentInfo":"{\"folderObjectId\":\"abc\",\"capacityObjectId\":\"abc\",\"artifactType\":\"Pipeline\",\"provisionState\":\"Active\",\"lastUpdatedDate\":\"2024-11-25T19:34:47.217Z\",\"createdDate\":\"2024-11-25T18:47:37.276Z\",\"ownerUser\":{\"id\":123,\"name\":\"Peter Lalovsky\",\"objectId\":\"abc\",\"userPrincipalName\":\"peter.lalovsky@zpl-concept.com\",\"aadAppId\":null,\"type\":null},\"ownerUserId\":123,\"createdByUser\":{\"id\":123,\"name\":\"Peter Lalovsky\",\"objectId\":\"abc\",\"userPrincipalName\":\"peter.lalovsky@zpl-concept.com\",\"aadAppId\":null,\"type\":null},\"createdByUserId\":123,\"modifiedByUser\":{\"id\":123,\"name\":\"Peter Lalovsky\",\"objectId\":\"abc\",\"userPrincipalName\":\"peter.lalovsky@zpl-concept.com\",\"aadAppId\":null,\"type\":null},\"modifiedByUserId\":123,\"permissions\":71,\"artifactPermissions\":3,\"subfolderId\":3575,\"systemArtifactType\":\"None\",\"etag\":\"\\\"abc\\\"\"}"},"dependsOn":[]}]}